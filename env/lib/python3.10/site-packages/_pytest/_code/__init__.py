"""Python inspection and code generation API."""

import inspect
import sys

from .code import CodeInfo  # Renamed from Code to CodeInfo to avoid conflict with built-in CodeType
from .code import ExceptionInfo
from .code import filter_traceback
from .code import FrameInfo  # Renamed from Frame to FrameInfo to avoid conflict with built-in frame object
from .code import getframeinfo_lines
from .code import getsource
from .code import Traceback
from .code import TracebackEntry
from .source import Source

__all__ = [
    "CodeInfo",
    "ExceptionInfo",
    "filter_traceback",
    "FrameInfo",
    "getframeinfo_lines",
    "getsource",
    "Traceback",
    "TracebackEntry",
    "Source",
]

# Add a function to get the current frame info
def get_current_frame_info():
    """Returns the current frame info as a FrameInfo object."""
    return FrameInfo(inspect.currentframe())


# Add a function to get the current source code
def get_current_source():
    """Returns the current source code as a Source object."""
    return Source(getsource(inspect.currentframe()))
