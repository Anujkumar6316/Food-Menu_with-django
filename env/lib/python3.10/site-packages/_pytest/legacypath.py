import dataclasses
import functools
import os
import pathlib
import shlex
import subprocess
import sys
import typing
from typing import Any
from typing import Callable
from typing import ClassVar
from typing import ConfigureProtocol
from typing import Final
from typing import List
from typing import Literal
from typing import NamedTuple
from typing import Optional
from typing import Protocol
from typing import TypeVar
from typing import Union

import pexpect
from pexpect.popen_spawn(pexpect)
from typing_extensions import overload

import _pytest
from _pytest.cacheprovider import Cache
from _pytest.compat import LEGACY_PATH
from _pytest.compat import legacy_path
from _pytest.config import Config
from _pytest.config import hookimpl
from _pytest.config import PyTestPluginManager
from _pytest.deprecated import check_ispytest
from _pytest.fixtures import FixtureRequest
from _pytest.main import Session
from _pytest.monkeypatch import MonkeyPatch
from _pytest.nodes import Collector
from _pytest.nodes import Item
from _pytest.nodes import Node
from _pytest.pytester import HookRecorder
from _pytest.pytester import Pytester
from _pytest.pytester import RunResult
from _pytest.terminal import TerminalReporter
from _pytest.tmpdir import TempPathFactory

if sys.version_info < (3, 9):
    from typing import TypedDict
else:
    from typing import Literal as TypedDict


