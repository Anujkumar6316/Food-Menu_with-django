'use strict';

const inputTags = ['BUTTON', 'INPUT', 'SELECT', 'TEXTAREA'];
const modelName = document.getElementById('django-admin-form-add-constants')?.dataset.modelName;

if (modelName) {
  const form = document.getElementById(`${modelName}_form`);
  if (form) {
    const elements = Array.from(form.elements);
    const inputElement = elements.find(element => 
      inputTags.includes(element.tagName) &&
      !element.disabled &&
      element.offsetParent
    );

    if (inputElement) {
      inputElement.focus();
    }
  }
}
